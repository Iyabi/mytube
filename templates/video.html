{% extends 'layout.html' %}
{% block title %}{{ video.name }}{% endblock %}

{% block content %}
<div class="video-detail-container" style="display: flex; gap: 2rem; padding: 3%; margin-top: 100px;">

  <div style="flex: 2; min-width: 300px">
    <iframe width="100%" height="360"
            src="{{ video.url }}"
            frameborder="0" allowfullscreen style=" box-shadow: 0px 0px 10px black;">
    </iframe>
    <h2>{{ video.name }}</h2>
    <p>{{ video.description }}</p>
  </div>

  <div style="
    flex: 1;
    min-width: 250px;
    max-height: 700px;       
    overflow-y: auto;        
    padding-right: 1.2rem; 
    padding-left: 1.2rem;  
    border-left: 1px solid skyblue; 
  ">
    <h3>More in {{ video.category }}</h3>
    {% for vid in related %}
      <div style="display: flex; margin-bottom: 1rem; gap: 0.5rem; padding: 10px;">
        <a href="{{ url_for('video_detail', video_id=vid.id) }}">
          <img src="{{ url_for('static', filename='thumbnails/' ~ vid.thumbnail) }}"
               alt="{{ vid.name }}"
               style="width: 120px; height: 70px; object-fit: cover; border-radius: 6px;">
        </a>
        <div>
          <a href="{{ url_for('video_detail', video_id=vid.id) }}"
             style=" font-weight: bold; font-size: 0.9rem; text-decoration: none; color: skyblue;">{{ vid.name }}</a>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

{% endblock %}
